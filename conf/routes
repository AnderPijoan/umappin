# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~


# ------------------------------- Main routes ---------------------------------
# Home page
GET     /                           controllers.Assets.at(path="/public", file="index.html")
# this is a workaround for oAuth call
GET     /main                       controllers.Application.index
# Javascript routes
GET     /assets/javascript/routes.js    controllers.Application.jsRoutes
# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file               controllers.Assets.at(path="/public", file)
# --------------------------------------------------------------------------



# ----------------------------- Authentication routes -------------------------
POST    /login                      controllers.Application.doLogin

GET     /logout                     com.feth.play.module.pa.controllers.Authenticate.logout

POST    /signup                     controllers.Application.doSignup

GET     /accounts/verify/:token     controllers.Signup.verify(token: String)
GET     /accounts/exists            controllers.Signup.exists
GET     /tokenSuccess               controllers.Application.tokenSuccess
GET     /tokenFail                  controllers.Application.tokenFail

POST    /login/password/forgot      controllers.Signup.doForgotPassword
GET     /accounts/password/reset/:token     controllers.Signup.resetPassword(token: String, errors: java.lang.String ?= "")
POST    /accounts/password/reset    controllers.Signup.doResetPassword
GET     /passwordResetSuccess       controllers.Application.passwordResetSuccess
GET     /passwordResetFail/:msg     controllers.Application.passwordResetFail(msg: String)

POST    /accounts/password/change   controllers.Account.doChangePassword
# --------------------------------------------------------------------------



# ----------------- Authentication Unverified routes ----------------------
GET     /accounts/verify            controllers.Account.verifyEmail

GET     /accounts/link              controllers.Account.askLink
POST    /accounts/link              controllers.Account.doLink

GET     /accounts/merge             controllers.Account.askMerge
POST    /accounts/merge             controllers.Account.doMerge

GET     /authenticate/:provider     com.feth.play.module.pa.controllers.Authenticate.authenticate(provider: String)

GET     /accounts/unverified        controllers.Signup.unverified
GET     /authenticate/:provider/denied     controllers.Signup.oAuthDenied(provider: String)
# --------------------------------------------------------------------------


# ------------------------------ REST Services -----------------------------
# REST CRUD for Follows
GET     /follows                    controllers.FollowREST.getAllFollows()
GET     /follows/:id                controllers.FollowREST.getFollows(id: String)
POST    /follows                    controllers.FollowREST.addFollows()
PUT     /follows/:id                controllers.FollowREST.updateFollows(id: String)
DELETE  /follows/:id                controllers.FollowREST.deleteFollows(id: String)

# REST CRUD for Followed
GET     /followed                    controllers.FollowREST.getAllFollowed()
GET     /followed/:id                controllers.FollowREST.getFollowed(id: String)
POST    /followed                    controllers.FollowREST.addFollowed()
PUT     /followed/:id                controllers.FollowREST.updateFollowed(id: String)
DELETE  /followed/:id                controllers.FollowREST.deleteFollowed(id: String)

# REST CRUD for Users
GET     /users                      controllers.UserREST.getAll()
GET     /users/:id                  controllers.UserREST.get(id: String)
POST    /users                      controllers.UserREST.post()
PUT     /users/:id                  controllers.UserREST.put(id: String)
DELETE  /users/:id                  controllers.UserREST.delete(id: String)

GET     /sessionuser                controllers.UserREST.getSessionUser

# REST CRUD for discussions
GET     /discussions                controllers.User2DiscussionREST.getDiscussions()
GET     /discussions/unread         controllers.User2DiscussionREST.getUnreadDiscussions()
GET     /discussions/:id            controllers.User2DiscussionREST.getDiscussion(id: String)
POST    /discussions                controllers.User2DiscussionREST.addDiscussion()
DELETE  /discussions/:id            controllers.User2DiscussionREST.deleteDiscussion(id: String)
GET     /messages/:id               controllers.User2DiscussionREST.getMessage(id: String)
PUT     /messages/:id               controllers.User2DiscussionREST.updateMessage(id: String)
POST	/messages                   controllers.User2DiscussionREST.reply()
POST	/messages/:id               controllers.User2DiscussionREST.replyToMessage(id: String)

# REST CRUD for awards
GET     /awards						controllers.AwardREST.getAwards()
GET     /awards/types				controllers.AwardREST.getAwardTypes()
GET		/awards/:id					controllers.AwardREST.getAward(id: String)
GET     /awards/type/:type			controllers.AwardREST.findByAwardType(type: String)

# REST CRUD for statistics
GET     /users/:id/statistics		controllers.UserStatisticsREST.getUserStatistics(id: String)
PUT		/users/:id/statistics		controllers.UserStatisticsREST.updateUserStatistics(id: String)
# --------------------------------------------------------------------------


# TESTINGG!!!
GET     /items                    controllers.SubItemREST.getAll()
GET     /items/:id                controllers.SubItemREST.get(id: String)
POST    /items                    controllers.SubItemREST.post()
PUT     /items/:id                controllers.SubItemREST.put(id: String)
DELETE  /items/:id                controllers.SubItemREST.delete(id: String)

GET     /populateDB               controllers.OsmFixmesREST.populateDatabase()

# ------------------------------ Photos ------------------------------------
GET     /photos/manager              controllers.Photos.manager

#allocates a new photo by sending the metadata
POST    /rest/photos                 controllers.PhotosREST.newPhoto()
DELETE  /rest/photos/:id             controllers.PhotosREST.deletePhoto(id: String)
POST    /rest/photos/:id             controllers.PhotosREST.updatePhoto(id: String)


#POST for photoContent carried within multipart/form-data
POST   /rest/photos/:id/content      controllers.PhotosREST.uploadMultipartContent(id: String)


#'quality' is dummy, this parameter is never read
GET    /rest/photos/:id/content      controllers.PhotosREST.getPhotoContent(id: String)


#updates and get the metadata
GET     /rest/photos/:id             controllers.PhotosREST.getPhoto(id: String)

#------------------------------ REST API ---------------------------------

GET 	/api/login/:email/:password	controllers.ApiUserREST.login(email: String, password: String)
GET 	/api/:token/discussions			controllers.User2DiscussionREST.getApiDiscussions(token: String)

