<!------------------------------------- Styles -------------------------------------->
<link rel="stylesheet" href="/assets/css/openlayers/style.min.css" />
<!--[if lte IE 8]>
<link rel="stylesheet" href="/assets/css/openlayers/ie6-style.min.css" />
<![endif]-->
<link rel="stylesheet" href="/assets/css/maps.min.css" />

<!------------------------------------- HTML -------------------------------------->
<div class="box-transparent span12">
    <div class="row">
        <div class="span11 offset1-5">
            <div id="map-container"></div>
        </div>
    </div>
</div>
<!------------------------------------- Feature popup template -------------------------------------->
<script type='text/template' id='features-popup-template'>
    <h4><%=rc.type%> - &nbsp; Lon: &nbsp; <%=rc.lon%>, &nbsp; Lat: &nbsp; <%=rc.lat%></h4>
    <% for (var t in rc.tags) { %>
        <label><%=t%>:&nbsp;<%=rc.tags[t]%></label>
    <% } %>
</script>

<!------------------------------------- Notes popup template -------------------------------------->
<script type='text/template' id='notes-popup-template'>
        <h4>Note created on: &nbsp;<%=rc.properties.date_created%></h4>
        <label>Location: Lon - <%=rc.geometry.coordinates[0]%>, Lat - <%=rc.geometry.coordinates[1]%></label>
        <div class='noteComments'>
            <% for (var c in rc.properties.comments) { %>
                <div class='noteComment'>
                    Comment by:&nbsp;<a href='<%=rc.properties.comments[c].user_url%>'><%=rc.properties.comments[c].user || 'Unknown'%></a>
                    <label><%=rc.properties.comments[c].date%>:&nbsp;<%=rc.properties.comments[c].action%></label>
                    <%=rc.properties.comments[c].html%>
                </div>
            <% } %>
        </div>
        <div class='newNoteComment'>
            <label>Add a new Comment:</label>
            <textarea id='newNoteCommentText_<%=rc.properties.id%>' placeholder='type comment here'></textarea>
            <button class='button newNoteCommentButton' id='newNoteCommentButton_<%=rc.properties.id%>'>Post Comment</button>
            <input type='hidden' id='newNoteCommentUrl_<%=rc.properties.id%>' value='<%=rc.properties.comment_url%>'>
            <button class='button closeNoteButton' id='closeNoteButton_<%=rc.properties.id%>'>Close note</button>
            <input type='hidden' id='closeNoteUrl_<%=rc.properties.id%>' value='<%=rc.properties.close_url%>'>
        </div>
</script>

<!------------------------------------- Notes comment template -------------------------------------->
<script type='text/template' id='notes-comment-template'>
    <div class='noteComment'>
        Comment by:&nbsp;<a href='<%=rc.user_url%>'><%=rc.user || 'Unknown'%></a>
        <label><%=rc.date%>:&nbsp;<%=rc.action%></label>
        <%=rc.html%>
    </div>
</script>

<!------------------------------------- New note template -------------------------------------->
<script type='text/template' id='notes-new-template'>
    <div class='newNote'>
        <label>Location: Lon - <%=rc.lon%>, Lat - <%=rc.lat%></label>
        <label>Create a new Note:</label>
        <textarea id='newNoteText-<%=rc.id%>' placeholder='type comment here'></textarea>
        <button class='button newNoteButton' id='newNoteButton-<%=rc.id%>'>Post Note</button>
        <button class='button removeMarkerButton' id='removeMarkerButton-<%=rc.id%>'>Remove Marker</button>
    </div>
</script>